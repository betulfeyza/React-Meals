{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getRedirectStatus = getRedirectStatus;\nexports.modifyRouteRegex = modifyRouteRegex;\nexports.allowedStatusCodes = void 0;\nvar _constants = require(\"../shared/lib/constants\");\nconst allowedStatusCodes = new Set([301, 302, 303, 307, 308]);\nexports.allowedStatusCodes = allowedStatusCodes;\nfunction getRedirectStatus(route) {\n  return route.statusCode || (route.permanent ? _constants.PERMANENT_REDIRECT_STATUS : _constants.TEMPORARY_REDIRECT_STATUS);\n}\nfunction modifyRouteRegex(regex, restrictedPaths) {\n  if (restrictedPaths) {\n    regex = regex.replace(/\\^/, `^(?!${restrictedPaths.map(path => path.replace(/\\//g, \"\\\\/\")).join(\"|\")})`);\n  }\n  regex = regex.replace(/\\$$/, \"(?:\\\\/)?$\");\n  return regex;\n}","map":{"version":3,"names":["getRedirectStatus","modifyRouteRegex","_constants","require","allowedStatusCodes","Set","route","statusCode","permanent","PERMANENT_REDIRECT_STATUS","TEMPORARY_REDIRECT_STATUS","regex","restrictedPaths","replace","map","path","join"],"sources":["../../src/lib/redirect-status.ts"],"sourcesContent":[null],"mappings":"AAAA;;;;;QAOgBA,iBAAiB,GAAjBA,iBAAiB;QAajBC,gBAAgB,GAAhBA,gBAAgB;;AAjBzB,IAAAC,UAAyB,GAAAC,OAAA,CAAzB,yBAAyB;AAEzB,MAAMC,kBAAkB,GAAG,IAAIC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QAAvDD,kBAAkB,GAAlBA,kBAAkB;AAExB,SAASJ,iBAAiBA,CAACM,KAGjC,EAAU;EACT,OACEA,KAAK,CAACC,UAAU,KACfD,KAAK,CAACE,SAAS,GAAGN,UAAyB,CAAAO,yBAAA,GAAGP,UAAyB,CAAAQ,yBAAA,CAAC;;AAOtE,SAAST,gBAAgBA,CAACU,KAAa,EAAEC,eAA0B,EAAE;EAC1E,IAAIA,eAAe,EAAE;IACnBD,KAAK,GAAGA,KAAK,CAACE,OAAO,OAElB,OAAMD,eAAe,CACnBE,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACF,OAAO,QAAQ,KAAK,CAAC,CAAC,CACzCG,IAAI,CAAC,GAAG,CAAE,GAAE,CAChB;;EAEHL,KAAK,GAAGA,KAAK,CAACE,OAAO,QAAQ,WAAW,CAAC;EACzC,OAAOF,KAAK"},"metadata":{},"sourceType":"script","externalDependencies":[]}